{% extends 'ctf/base.html' %}
{% load static %}
{% load ctf %}

{% block title %}
  Game — {{ block.super }}
{% endblock %}

{% block css %}
  <link href="{% static "ctf/css/game.css" %}" rel="stylesheet">
{% endblock %}

{% block content %}
  {% if can_view_problems %}
    <div id="problems">
      {% for prob in prob_list %}
        <form action="{% url 'ctf:submit_flag' prob.id|str %}" method="post">
          <div class="problem-header">
            <h3>{{ prob.name }} <span class="problem-points">{{ prob.points }}</span></h3>
          </div>

          <div class="problem-description">
            {{ prob.description_html|safe }}
          </div>

          <label for="flag-{{ prob.id }}">Flag: </label>
          <input id="flag-{{ prob.id }}" type="text" name="flag"/>
          <input type="submit" value="Submit!" {% if is_active_window %} disabled {% endif %}/>
          {% csrf_token %}
        </form>
        <br/>
      {% endfor %}
    </div>
  {% else %}
    <div id="start-button">
      <form action="{% url 'ctf:start_window' %}" method="post">
        <input type="submit" value="Start!"/>
        {% csrf_token %}
      </form>
    </div>
  {% endif %}
{% endblock %}
